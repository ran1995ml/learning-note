# Http

## 长短连接

短连接，每执行一次操作就建立一次连接，任务结束就中断连接。

长连接，任务完成后传输 `http` 数据的 `tcp` 连接不会关闭，再次访问继续使用已建立的连接。客户端和服务端有一方主动关闭，连接会关闭。达到空闲超时和最大请求数，连接会关闭。长连接会占用文件描述符、内存、网络带宽、`CPU` 资源和端口资源。每个 `tcp` 会在服务器上占用一个文件描述符。长连接需要维护一些状态，如 `tcp` 缓冲区、请求上下文，会占用些内存。